<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Career Report - Unlocking True Potential</title>
    <meta name="description" content="Your personalized AI-powered career recommendations and detailed analysis">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/results.css">
    <link rel="stylesheet" href="../css/auth-modal.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-lightbulb"></i>
                <span>Unlocking True Potential</span>
            </div>
            <div class="nav-menu"></div>
            <!-- Right-side section with Start Learning + Profile -->
            <div style="display: flex; align-items: center; gap: 16px; margin-left: auto;">
                <button class="btn btn-primary nav-cta" onclick="startLearningPath()">
                    <i class="fas fa-play"></i>
                    Start Learning
                </button>
                <div class="profile-dropdown-container" id="user-menu" style="position: relative;">
                <div class="profile-trigger" onclick="toggleDropdown()" style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 6px 12px; border-radius: 8px; transition: all 0.3s ease;">
                    <div class="profile-circle" style="width: 32px; height: 32px; border-radius: 50%; background: linear-gradient(135deg, #6366f1, #4f46e5); color: white; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.85rem;">IC</div>
                    <span class="profile-name" style="font-weight: 600; color: #374151; margin-left: 6px;">Ipsitneel Chaudhuri</span>
                    <i class="fas fa-chevron-down dropdown-arrow" style="font-size: 0.75rem; color: #6b7280; transition: transform 0.3s ease; margin-left: 4px;"></i>
                </div>
                
                <div class="profile-menu" id="profileMenu" style="position: absolute; top: 100%; right: 0; background: white; border: 1px solid rgba(0,0,0,0.08); border-radius: 12px; box-shadow: 0 12px 40px rgba(0,0,0,0.15); min-width: 220px; z-index: 1000; padding: 8px 0; display: none; opacity: 0; transform: translateY(-10px); transition: all 0.3s ease;">
                    <a href="dashboard.html" class="menu-item" style="display: flex; align-items: center; gap: 12px; padding: 12px 16px; color: #374151; text-decoration: none; transition: all 0.3s ease;">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>Dashboard</span>
                    </a>
                    <a href="results.html" class="menu-item" style="display: flex; align-items: center; gap: 12px; padding: 12px 16px; color: #374151; text-decoration: none; transition: all 0.3s ease; background: linear-gradient(135deg, #6366f1, #4f46e5); color: white;">
                        <i class="fas fa-chart-bar"></i>
                        <span>Results</span>
                    </a>
                    <a href="learning-path.html" class="menu-item" style="display: flex; align-items: center; gap: 12px; padding: 12px 16px; color: #374151; text-decoration: none; transition: all 0.3s ease;">
                        <i class="fas fa-graduation-cap"></i>
                        <span>Learning</span>
                    </a>
                    <a href="simulation.html" class="menu-item" style="display: flex; align-items: center; gap: 12px; padding: 12px 16px; color: #374151; text-decoration: none; transition: all 0.3s ease;">
                        <i class="fas fa-briefcase"></i>
                        <span>Career Simulation</span>
                    </a>
                    <div style="height: 1px; background: rgba(0,0,0,0.08); margin: 8px 0;"></div>
                    <a href="#" onclick="handleLogout(); return false;" class="menu-item logout-btn" style="display: flex; align-items: center; gap: 12px; padding: 12px 16px; color: #dc3545; text-decoration: none; transition: all 0.3s ease;">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Logout</span>
                    </a>
                </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Results Container -->
    <div class="results-container">
        <!-- Header Section -->
        <section class="results-header">
            <div class="container">
                <div class="header-content">
                    <div class="header-text">
                        <h1>Your Career Discovery Report</h1>
                        <p class="header-subtitle">
                            Based on your comprehensive assessment, we've analyzed your strengths, 
                            interests, and potential to provide personalized career recommendations.
                        </p>
                        <div class="report-meta">
                            <div class="meta-item">
                                <i class="fas fa-calendar"></i>
                                <span>Completed: <span id="completion-date">Today</span></span>
                            </div>
                            <div class="meta-item">
                                <i class="fas fa-clock"></i>
                                <span>Duration: <span id="test-duration">45 minutes</span></span>
                            </div>
                            <div class="meta-item">
                                <i class="fas fa-chart-line"></i>
                                <span>Accuracy: 94%</span>
                            </div>
                        </div>
                    </div>
                    <div class="header-visual">
                        <div class="report-badge">
                            <i class="fas fa-certificate"></i>
                            <span>AI-Powered Analysis</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Overview Section -->
        <section class="overview-section">
            <div class="container">
                <h2 class="section-title">Your Profile Overview</h2>
                <div class="overview-grid">
                    <div class="overview-card personality-card">
                        <div class="card-header">
                            <i class="fas fa-user"></i>
                            <h3>Personality Type</h3>
                        </div>
                        <div class="card-content">
                            <div class="personality-type">
                                <span class="type-name" id="personality-type">Analytical Thinker</span>
                                <div class="type-score">
                                    <span class="score-value" id="personality-score">85%</span>
                                    <span class="score-label">Match</span>
                                </div>
                            </div>
                            <div class="personality-traits" id="personality-traits">
                                <span class="trait">Logical</span>
                                <span class="trait">Detail-oriented</span>
                                <span class="trait">Problem-solver</span>
                            </div>
                        </div>
                    </div>

                    <div class="overview-card skills-card">
                        <div class="card-header">
                            <i class="fas fa-chart-bar"></i>
                            <h3>Skills Assessment</h3>
                        </div>
                        <div class="card-content">
                            <canvas id="skills-chart"></canvas>
                        </div>
                    </div>

                    <div class="overview-card strengths-card">
                        <div class="card-header">
                            <i class="fas fa-star"></i>
                            <h3>Top Strengths</h3>
                        </div>
                        <div class="card-content">
                            <div class="strengths-list" id="strengths-list">
                                <div class="strength-item">
                                    <i class="fas fa-brain"></i>
                                    <span>Analytical Thinking</span>
                                </div>
                                <div class="strength-item">
                                    <i class="fas fa-puzzle-piece"></i>
                                    <span>Problem Solving</span>
                                </div>
                                <div class="strength-item">
                                    <i class="fas fa-search"></i>
                                    <span>Attention to Detail</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Career Recommendations Section -->
        <section class="recommendations-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Your Career Recommendations</h2>
                    <p class="section-subtitle">
                        Based on your assessment, here are your top career matches organized by compatibility tiers
                    </p>
                </div>

                <!-- Tier S Recommendations -->
                <div class="tier-section tier-s">
                    <div class="tier-header">
                        <div class="tier-badge tier-s-badge">
                            <i class="fas fa-crown"></i>
                            <span>Tier S</span>
                        </div>
                        <h3>Perfect Matches (90%+ Compatibility)</h3>
                    </div>
                    <div class="recommendations-grid" id="tier-s-recommendations">
                        <!-- S-tier recommendations will be loaded here -->
                    </div>
                </div>

                <!-- Tier A Recommendations -->
                <div class="tier-section tier-a">
                    <div class="tier-header">
                        <div class="tier-badge tier-a-badge">
                            <i class="fas fa-medal"></i>
                            <span>Tier A</span>
                        </div>
                        <h3>Excellent Matches (80-89% Compatibility)</h3>
                    </div>
                    <div class="recommendations-grid" id="tier-a-recommendations">
                        <!-- A-tier recommendations will be loaded here -->
                    </div>
                </div>

                <!-- Tier B Recommendations -->
                <div class="tier-section tier-b">
                    <div class="tier-header">
                        <div class="tier-badge tier-b-badge">
                            <i class="fas fa-award"></i>
                            <span>Tier B</span>
                        </div>
                        <h3>Good Matches (70-79% Compatibility)</h3>
                    </div>
                    <div class="recommendations-grid" id="tier-b-recommendations">
                        <!-- B-tier recommendations will be loaded here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Detailed Analysis Section -->
        <section class="analysis-section">
            <div class="container">
                <h2 class="section-title">Detailed Analysis</h2>
                <div class="analysis-tabs">
                    <button class="tab-button active" onclick="showTab('stage-breakdown')">
                        <i class="fas fa-chart-pie"></i>
                        Stage Breakdown
                    </button>
                    <button class="tab-button" onclick="showTab('learning-style')">
                        <i class="fas fa-graduation-cap"></i>
                        Learning Style
                    </button>
                    <button class="tab-button" onclick="showTab('growth-areas')">
                        <i class="fas fa-arrow-up"></i>
                        Growth Areas
                    </button>
                </div>

                <div class="tab-content active" id="stage-breakdown">
                    <div class="breakdown-grid">
                        <div class="breakdown-card">
                            <h4><i class="fas fa-user"></i> Self-Awareness</h4>
                            <div class="score-display">
                                <div class="score-circle" data-score="85">
                                    <span class="score-text">85%</span>
                                </div>
                            </div>
                            <p>Strong understanding of personal values and interests</p>
                        </div>
                        <div class="breakdown-card">
                            <h4><i class="fas fa-brain"></i> Analytical Skills</h4>
                            <div class="score-display">
                                <div class="score-circle" data-score="92">
                                    <span class="score-text">92%</span>
                                </div>
                            </div>
                            <p>Excellent logical reasoning and problem-solving abilities</p>
                        </div>
                        <div class="breakdown-card">
                            <h4><i class="fas fa-comments"></i> Communication</h4>
                            <div class="score-display">
                                <div class="score-circle" data-score="78">
                                    <span class="score-text">78%</span>
                                </div>
                            </div>
                            <p>Good written communication with room for improvement</p>
                        </div>
                        <div class="breakdown-card">
                            <h4><i class="fas fa-heart"></i> Emotional Intelligence</h4>
                            <div class="score-display">
                                <div class="score-circle" data-score="81">
                                    <span class="score-text">81%</span>
                                </div>
                            </div>
                            <p>Well-developed empathy and interpersonal skills</p>
                        </div>
                        <div class="breakdown-card">
                            <h4><i class="fas fa-gamepad"></i> Decision Making</h4>
                            <div class="score-display">
                                <div class="score-circle" data-score="88">
                                    <span class="score-text">88%</span>
                                </div>
                            </div>
                            <p>Strong strategic thinking and leadership potential</p>
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="learning-style">
                    <div class="learning-style-content">
                        <div class="learning-visual">
                            <canvas id="learning-style-chart"></canvas>
                        </div>
                        <div class="learning-description">
                            <h4>Your Learning Profile</h4>
                            <div class="learning-traits">
                                <div class="learning-trait">
                                    <i class="fas fa-eye"></i>
                                    <div>
                                        <h5>Visual Learner (40%)</h5>
                                        <p>You learn best through diagrams, charts, and visual representations</p>
                                    </div>
                                </div>
                                <div class="learning-trait">
                                    <i class="fas fa-hands"></i>
                                    <div>
                                        <h5>Kinesthetic Learner (35%)</h5>
                                        <p>Hands-on experience and practical application enhance your learning</p>
                                    </div>
                                </div>
                                <div class="learning-trait">
                                    <i class="fas fa-ear-listen"></i>
                                    <div>
                                        <h5>Auditory Learner (25%)</h5>
                                        <p>You benefit from discussions, lectures, and verbal explanations</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="growth-areas">
                    <div class="growth-areas-content">
                        <div class="growth-recommendations">
                            <div class="growth-item">
                                <div class="growth-icon">
                                    <i class="fas fa-microphone"></i>
                                </div>
                                <div class="growth-content">
                                    <h4>Public Speaking</h4>
                                    <p>Developing presentation skills will enhance your leadership potential</p>
                                    <div class="growth-actions">
                                        <span class="priority high">High Priority</span>
                                        <button class="btn btn-sm btn-primary">Start Learning</button>
                                    </div>
                                </div>
                            </div>
                            <div class="growth-item">
                                <div class="growth-icon">
                                    <i class="fas fa-users"></i>
                                </div>
                                <div class="growth-content">
                                    <h4>Team Collaboration</h4>
                                    <p>Strengthening collaborative skills will broaden career opportunities</p>
                                    <div class="growth-actions">
                                        <span class="priority medium">Medium Priority</span>
                                        <button class="btn btn-sm btn-secondary">Explore</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Next Steps Section -->
        <section class="next-steps-section">
            <div class="container">
                <div class="next-steps-content">
                    <div class="steps-text">
                        <h2>Ready to Start Your Journey?</h2>
                        <p>Choose your preferred career path and begin your personalized learning journey with gamified quests, real projects, and expert guidance.</p>
                        <div class="steps-actions">
                            <button class="btn btn-primary btn-large" onclick="startLearningPath()">
                                <i class="fas fa-rocket"></i>
                                Start Learning Path
                            </button>
                            <button class="btn btn-secondary btn-large" onclick="downloadReport()">
                                <i class="fas fa-download"></i>
                                Download Report
                            </button>
                        </div>
                    </div>
                    <div class="steps-visual">
                        <div class="journey-preview">
                            <div class="journey-step">
                                <i class="fas fa-map"></i>
                                <span>Choose Path</span>
                            </div>
                            <div class="journey-arrow">→</div>
                            <div class="journey-step">
                                <i class="fas fa-tasks"></i>
                                <span>Complete Quests</span>
                            </div>
                            <div class="journey-arrow">→</div>
                            <div class="journey-step">
                                <i class="fas fa-certificate"></i>
                                <span>Earn Certificate</span>
                            </div>
                            <div class="journey-arrow">→</div>
                            <div class="journey-step">
                                <i class="fas fa-briefcase"></i>
                                <span>Career Simulation</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-analytics-compat.js"></script>
    
    <!-- Scripts -->
    <script src="../js/main.js"></script>
    <script src="../js/auth-modal.js"></script>
    <script src="../js/google-config.js"></script>
    <script src="../js/firebase-config.js"></script>
    <script src="../js/results.js?v=1.1"></script>
    
    <!-- Dropdown functionality script -->
    <script>
        function toggleDropdown() {
            const menu = document.getElementById('profileMenu');
            const arrow = document.querySelector('.dropdown-arrow');
            
            if (menu) {
                const isVisible = menu.style.display === 'block';
                
                if (isVisible) {
                    menu.style.opacity = '0';
                    menu.style.transform = 'translateY(-10px)';
                    if (arrow) arrow.style.transform = 'rotate(0deg)';
                    setTimeout(() => { menu.style.display = 'none'; }, 300);
                } else {
                    menu.style.display = 'block';
                    setTimeout(() => {
                        menu.style.opacity = '1';
                        menu.style.transform = 'translateY(0)';
                        if (arrow) arrow.style.transform = 'rotate(180deg)';
                    }, 10);
                }
            }
        }
        
        document.addEventListener('click', function(e) {
            const profileContainer = document.querySelector('.profile-dropdown-container');
            const menu = document.getElementById('profileMenu');
            const arrow = document.querySelector('.dropdown-arrow');
            
            if (profileContainer && !profileContainer.contains(e.target) && menu) {
                menu.style.opacity = '0';
                menu.style.transform = 'translateY(-10px)';
                if (arrow) arrow.style.transform = 'rotate(0deg)';
                setTimeout(() => { menu.style.display = 'none'; }, 300);
            }
        });
        
        // Add hover effects
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                const menuItems = document.querySelectorAll('.menu-item');
                menuItems.forEach(item => {
                    const isLogout = item.classList.contains('logout-btn');
                    const originalStyle = item.getAttribute('style') || '';
                    
                    item.addEventListener('mouseenter', () => {
                        if (isLogout) {
                            item.style.background = '#fee';
                        } else if (!originalStyle.includes('background: linear-gradient')) {
                            item.style.background = 'rgba(99, 102, 241, 0.1)';
                            item.style.color = '#6366f1';
                        }
                        item.style.transform = 'translateX(4px)';
                    });
                    
                    item.addEventListener('mouseleave', () => {
                        if (isLogout) {
                            item.style.background = 'transparent';
                            item.style.color = '#dc3545';
                        } else if (!originalStyle.includes('background: linear-gradient')) {
                            item.style.background = 'transparent';
                            item.style.color = '#374151';
                        }
                        item.style.transform = 'translateX(0)';
                    });
                });
            }, 200);
        });
    </script>
</body>
</html>
