<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Career Simulation - Unlocking True Potential</title>
    <meta name="description" content="Experience real-world career scenarios through interactive simulations">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/simulation.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-lightbulb"></i>
                <span>Unlocking True Potential</span>
            </div>
            <div class="nav-menu">
                <div class="simulation-progress">
                    <span>Simulation Progress:</span>
                    <div class="progress-bar">
                        <div class="progress-fill" id="sim-progress"></div>
                    </div>
                    <span id="sim-percentage">0%</span>
                </div>
            </div>
            <!-- Right-side profile dropdown host (shown when logged in) -->
            <div class="profile-dropdown-container" id="user-menu" style="position: relative; margin-left: auto;">
                <div class="profile-trigger" onclick="toggleDropdown()" style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 6px 12px; border-radius: 8px; transition: all 0.3s ease;">
                    <div class="profile-circle" style="width: 32px; height: 32px; border-radius: 50%; background: linear-gradient(135deg, #6366f1, #4f46e5); color: white; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.85rem;">IC</div>
                    <span class="profile-name" style="font-weight: 600; color: #374151; margin-left: 6px;">Ipsitneel Chaudhuri</span>
                    <i class="fas fa-chevron-down dropdown-arrow" style="font-size: 0.75rem; color: #6b7280; transition: transform 0.3s ease; margin-left: 4px;"></i>
                </div>
                
                <div class="profile-menu" id="profileMenu" style="position: absolute; top: 100%; right: 0; background: white; border: 1px solid rgba(0,0,0,0.08); border-radius: 12px; box-shadow: 0 12px 40px rgba(0,0,0,0.15); min-width: 220px; z-index: 1000; padding: 8px 0; display: none; opacity: 0; transform: translateY(-10px); transition: all 0.3s ease;">
                    <a href="dashboard.html" class="menu-item" style="display: flex; align-items: center; gap: 12px; padding: 12px 16px; color: #374151; text-decoration: none; transition: all 0.3s ease;">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>Dashboard</span>
                    </a>
                    <a href="results.html" class="menu-item" style="display: flex; align-items: center; gap: 12px; padding: 12px 16px; color: #374151; text-decoration: none; transition: all 0.3s ease;">
                        <i class="fas fa-chart-bar"></i>
                        <span>Results</span>
                    </a>
                    <a href="learning-path.html" class="menu-item" style="display: flex; align-items: center; gap: 12px; padding: 12px 16px; color: #374151; text-decoration: none; transition: all 0.3s ease;">
                        <i class="fas fa-graduation-cap"></i>
                        <span>Learning</span>
                    </a>
                    <a href="simulation.html" class="menu-item" style="display: flex; align-items: center; gap: 12px; padding: 12px 16px; color: #374151; text-decoration: none; transition: all 0.3s ease; background: linear-gradient(135deg, #6366f1, #4f46e5); color: white;">
                        <i class="fas fa-briefcase"></i>
                        <span>Career Simulation</span>
                    </a>
                    <div style="height: 1px; background: rgba(0,0,0,0.08); margin: 8px 0;"></div>
                    <a href="#" onclick="handleLogout(); return false;" class="menu-item logout-btn" style="display: flex; align-items: center; gap: 12px; padding: 12px 16px; color: #dc3545; text-decoration: none; transition: all 0.3s ease;">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Logout</span>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Simulation Container -->
    <div class="simulation-container">
        <!-- Simulation Header -->
        <section class="sim-header-section">
            <div class="container">
                <div class="sim-header-content">
                    <div class="sim-info">
                        <div class="sim-breadcrumb">
                            <span>Career Simulation</span>
                            <i class="fas fa-chevron-right"></i>
                            <span id="current-role">Data Scientist</span>
                        </div>
                        <h1>Real-World Experience</h1>
                        <p class="sim-description">
                            Step into the shoes of a professional and navigate real workplace scenarios. 
                            Make decisions, solve problems, and see how your choices impact outcomes.
                        </p>
                    </div>
                    <div class="sim-stats">
                        <div class="stat-card">
                            <i class="fas fa-clock"></i>
                            <div>
                                <span class="stat-value" id="time-remaining">45:00</span>
                                <span class="stat-label">Time Remaining</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-star"></i>
                            <div>
                                <span class="stat-value" id="current-score">0</span>
                                <span class="stat-label">Current Score</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-tasks"></i>
                            <div>
                                <span class="stat-value" id="scenarios-completed">0/5</span>
                                <span class="stat-label">Scenarios</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Simulation Content -->
        <section class="sim-content-section">
            <div class="container">
                <!-- Welcome Screen -->
                <div class="sim-screen active" id="welcome-screen">
                    <div class="welcome-content">
                        <div class="welcome-icon">
                            <i class="fas fa-briefcase"></i>
                        </div>
                        <h2>Welcome to Your Virtual Workplace</h2>
                        <p>You're about to experience 5 realistic scenarios that data scientists face in their daily work. Each scenario will test different aspects of your professional skills.</p>
                        
                        <div class="scenario-preview">
                            <h3>What You'll Experience:</h3>
                            <div class="scenarios-grid">
                                <div class="scenario-card">
                                    <i class="fas fa-chart-line"></i>
                                    <h4>Data Analysis Challenge</h4>
                                    <p>Analyze complex datasets and present insights</p>
                                </div>
                                <div class="scenario-card">
                                    <i class="fas fa-users"></i>
                                    <h4>Team Collaboration</h4>
                                    <p>Work with cross-functional teams on projects</p>
                                </div>
                                <div class="scenario-card">
                                    <i class="fas fa-presentation"></i>
                                    <h4>Stakeholder Presentation</h4>
                                    <p>Present findings to executives and clients</p>
                                </div>
                                <div class="scenario-card">
                                    <i class="fas fa-clock"></i>
                                    <h4>Deadline Management</h4>
                                    <p>Handle multiple priorities under pressure</p>
                                </div>
                                <div class="scenario-card">
                                    <i class="fas fa-lightbulb"></i>
                                    <h4>Problem Solving</h4>
                                    <p>Tackle unexpected technical challenges</p>
                                </div>
                            </div>
                        </div>

                        <div class="simulation-tips">
                            <h3><i class="fas fa-info-circle"></i> Tips for Success</h3>
                            <ul>
                                <li>Think like a professional - consider business impact</li>
                                <li>Take your time to read scenarios carefully</li>
                                <li>Consider multiple perspectives before deciding</li>
                                <li>Your choices will be evaluated on effectiveness and professionalism</li>
                            </ul>
                        </div>

                        <button class="btn btn-primary btn-large" onclick="startSimulation()">
                            <i class="fas fa-play"></i>
                            Start Simulation
                        </button>
                    </div>
                </div>

                <!-- Scenario Screens -->
                <div class="sim-screen" id="scenario-screen">
                    <div class="scenario-content">
                        <div class="scenario-header">
                            <div class="scenario-info">
                                <h2 id="scenario-title">Scenario Loading...</h2>
                                <p id="scenario-context">Please wait while we load your scenario...</p>
                            </div>
                            <div class="scenario-timer">
                                <i class="fas fa-stopwatch"></i>
                                <span id="scenario-time">10:00</span>
                            </div>
                        </div>

                        <div class="scenario-situation" id="scenario-situation">
                            <!-- Scenario content will be loaded here -->
                        </div>

                        <div class="scenario-question">
                            <h3 id="scenario-question-text">What would you do?</h3>
                            <div class="scenario-options" id="scenario-options">
                                <!-- Options will be loaded here -->
                            </div>
                        </div>

                        <div class="scenario-actions">
                            <button class="btn btn-secondary" onclick="previousScenario()" id="prev-scenario-btn" disabled>
                                <i class="fas fa-arrow-left"></i>
                                Previous
                            </button>
                            <div class="scenario-indicator">
                                <span id="current-scenario">1</span> of <span id="total-scenarios">5</span>
                            </div>
                            <button class="btn btn-primary" onclick="nextScenario()" id="next-scenario-btn" disabled>
                                Next
                                <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Results Screen -->
                <div class="sim-screen" id="results-screen">
                    <div class="results-content">
                        <div class="results-header">
                            <div class="results-icon">
                                <i class="fas fa-chart-bar"></i>
                            </div>
                            <h2>Simulation Complete!</h2>
                            <p>Here's how you performed in your virtual workplace experience</p>
                        </div>

                        <div class="results-summary">
                            <div class="summary-card">
                                <h3>Overall Performance</h3>
                                <div class="performance-score">
                                    <div class="score-circle">
                                        <svg width="120" height="120">
                                            <circle cx="60" cy="60" r="50" stroke="#e5e7eb" stroke-width="8" fill="none"/>
                                            <circle cx="60" cy="60" r="50" stroke="#6366f1" stroke-width="8" fill="none" 
                                                    stroke-dasharray="314" stroke-dashoffset="94" id="performance-circle"/>
                                        </svg>
                                        <div class="score-text">
                                            <span class="score-percentage" id="final-score">85%</span>
                                            <span class="score-label">Score</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="performance-grade">
                                    <span class="grade" id="performance-grade">Excellent</span>
                                    <p id="grade-description">You demonstrated strong professional skills and decision-making abilities.</p>
                                </div>
                            </div>

                            <div class="skills-breakdown">
                                <h3>Skills Assessment</h3>
                                <div class="skills-list">
                                    <div class="skill-result">
                                        <div class="skill-info">
                                            <span class="skill-name">Problem Solving</span>
                                            <span class="skill-score">92%</span>
                                        </div>
                                        <div class="skill-bar">
                                            <div class="skill-fill" style="width: 92%"></div>
                                        </div>
                                    </div>
                                    <div class="skill-result">
                                        <div class="skill-info">
                                            <span class="skill-name">Communication</span>
                                            <span class="skill-score">78%</span>
                                        </div>
                                        <div class="skill-bar">
                                            <div class="skill-fill" style="width: 78%"></div>
                                        </div>
                                    </div>
                                    <div class="skill-result">
                                        <div class="skill-info">
                                            <span class="skill-name">Leadership</span>
                                            <span class="skill-score">85%</span>
                                        </div>
                                        <div class="skill-bar">
                                            <div class="skill-fill" style="width: 85%"></div>
                                        </div>
                                    </div>
                                    <div class="skill-result">
                                        <div class="skill-info">
                                            <span class="skill-name">Time Management</span>
                                            <span class="skill-score">88%</span>
                                        </div>
                                        <div class="skill-bar">
                                            <div class="skill-fill" style="width: 88%"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="scenario-reviews">
                            <h3>Scenario Review</h3>
                            <div class="reviews-list" id="scenario-reviews-list">
                                <!-- Scenario reviews will be loaded here -->
                            </div>
                        </div>

                        <div class="results-actions">
                            <button class="btn btn-primary btn-large" onclick="retakeSimulation()">
                                <i class="fas fa-redo"></i>
                                Retake Simulation
                            </button>
                            <button class="btn btn-secondary btn-large" onclick="viewDetailedFeedback()">
                                <i class="fas fa-file-alt"></i>
                                Detailed Feedback
                            </button>
                            <button class="btn btn-success btn-large" onclick="continueToNextLevel()">
                                <i class="fas fa-arrow-right"></i>
                                Continue Learning
                            </button>
                        </div>

                        <div class="rewards-earned">
                            <h3><i class="fas fa-gift"></i> Rewards Earned</h3>
                            <div class="rewards-list">
                                <div class="reward-item">
                                    <i class="fas fa-star"></i>
                                    <span>500 XP</span>
                                </div>
                                <div class="reward-item">
                                    <i class="fas fa-trophy"></i>
                                    <span>Simulation Master Badge</span>
                                </div>
                                <div class="reward-item">
                                    <i class="fas fa-certificate"></i>
                                    <span>Professional Skills Certificate</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Scripts -->
    <script src="../js/main.js"></script>
    <script src="../js/simulation.js"></script>
    
    <!-- Dropdown functionality script -->
    <script>
        function toggleDropdown() {
            const menu = document.getElementById('profileMenu');
            const arrow = document.querySelector('.dropdown-arrow');
            
            if (menu) {
                const isVisible = menu.style.display === 'block';
                
                if (isVisible) {
                    // Hide dropdown
                    menu.style.opacity = '0';
                    menu.style.transform = 'translateY(-10px)';
                    if (arrow) arrow.style.transform = 'rotate(0deg)';
                    setTimeout(() => {
                        menu.style.display = 'none';
                    }, 300);
                } else {
                    // Show dropdown
                    menu.style.display = 'block';
                    setTimeout(() => {
                        menu.style.opacity = '1';
                        menu.style.transform = 'translateY(0)';
                        if (arrow) arrow.style.transform = 'rotate(180deg)';
                    }, 10);
                }
            }
        }
        
        // Close dropdown when clicking outside
        document.addEventListener('click', function(e) {
            const profileContainer = document.querySelector('.profile-dropdown-container');
            const menu = document.getElementById('profileMenu');
            const arrow = document.querySelector('.dropdown-arrow');
            
            if (profileContainer && !profileContainer.contains(e.target) && menu) {
                menu.style.opacity = '0';
                menu.style.transform = 'translateY(-10px)';
                if (arrow) arrow.style.transform = 'rotate(0deg)';
                setTimeout(() => {
                    menu.style.display = 'none';
                }, 300);
            }
        });
        
        // Add hover effects to menu items
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                const menuItems = document.querySelectorAll('.menu-item');
                menuItems.forEach(item => {
                    const isLogout = item.classList.contains('logout-btn');
                    const originalStyle = item.getAttribute('style') || '';
                    
                    item.addEventListener('mouseenter', () => {
                        if (isLogout) {
                            item.style.background = '#fee';
                        } else if (!originalStyle.includes('background: linear-gradient')) {
                            item.style.background = 'rgba(99, 102, 241, 0.1)';
                            item.style.color = '#6366f1';
                        }
                        item.style.transform = 'translateX(4px)';
                    });
                    
                    item.addEventListener('mouseleave', () => {
                        if (isLogout) {
                            item.style.background = 'transparent';
                            item.style.color = '#dc3545';
                        } else if (!originalStyle.includes('background: linear-gradient')) {
                            item.style.background = 'transparent';
                            item.style.color = '#374151';
                        }
                        item.style.transform = 'translateX(0)';
                    });
                });
            }, 200);
        });
    </script>
</body>
</html>
